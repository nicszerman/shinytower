!function(){function e(e){var o=$.Event("keydown");o.which=e,$(document).trigger(o)}function o(e){return!isNaN(parseInt(1*e))}function t(e){return~~e}function a(e,o){o=o||1e3;var t='<div style="font-family:   sans-serif; animation-name: fade;   animation-duration: '+o/1e3+'s; animation-iteration-count:   infinite;">'+e+"</div>";return t}function i(e){for(var o=e.split("_"),t="",a=0;a<o.length;a++)t=t+" "+o[a][0].toUpperCase()+o[a].substring(1);return t=t.substring(1)}function s(e){if(A){switch(e=Number(e),console.log("The key "+e+" was pressed."),console.log("The processed key "+O.P(e)+" was pressed."),D=$.extend(!0,{},B),e){case 37:case 100:case 65:D.t--,D.state="char_left_walk",B.state="char_left_rest",setTimeout(function(){"char_left_walk"==B.state&&(D.state="char_left_rest",r())},110);break;case 39:case 102:case 68:D.t++,D.state="char_right_walk",B.state="char_right_rest",setTimeout(function(){"char_right_walk"==B.state&&(D.state="char_right_rest",r())},110);break;case 38:case 104:case 87:D.s--,D.state="char_back_walk",B.state="char_back_rest",setTimeout(function(){"char_back_walk"==B.state&&(D.state="char_back_rest",r())},110);break;case 40:case 98:case 83:D.s++,D.state="char_front_walk",B.state="char_front_rest",setTimeout(function(){"char_front_walk"==B.state&&(D.state="char_front_rest",r())},110);break;case 82:return void V.R();default:return void(void 0!==N[e]&&N[e]())}if(0==D.t||12==D.t||0==D.s||12==D.s)return D=$.extend(!0,{},B),void r();var o=d(D.s,D.t);void 0!==W[o]&&W[o].action(),r()}}function r(){var e=u(B.s,B.t),o=$("#rowcol-"+B.s+"-"+B.t);o.removeClass(e),o=$("#rowcol-"+D.s+"-"+D.t),o.addClass(D.state),D.floor!=B.floor&&(l(D.u[D.floor]),B.floor!=-1?q.S(D.floor,B.floor):q.S(D.floor)),$("#stat_level").text(D.level),$("#stat_life").text(D.m),$("#stat_attack").text(D.attack),$("#stat_defense").text(D.o),$("#stat_coins").text(D.B),$("#stat_experience").text(D.p),$("#stat_yellow").text(D.q),$("#stat_blue").text(D.blue),$("#stat_red").text(D.red),$("#stat_floor").text(D.floor),D.data.D<D.floor&&(D.data.D=D.floor),B=$.extend(!0,{},D)}function l(e){for(var o=e.length-1;o>=0;o--){var t=w(o);c(t.s,t.t,e[o])}}function c(e,t,a){void 0===a&&o(e)&&(a=t,e=w(e),t=e.t,e=e.s);var n=u(e,t),i=$("#rowcol-"+e+"-"+t);if(i.removeClass(),i.addClass("tile").addClass(f(a)),""!=n&&i.addClass(n),"number"==typeof a){var s='url("./res/image/'+f(a)+'.gif")';""!=f(a)?i.css("background-image",s):i.css("background-image",'url("./res/image/road.gif")')}if("string"==typeof a){var s='url("./res/image/'+a+'.gif")';""!=a&&i.css("background-image",s)}}function d(e,o){return B.u[B.floor][_(e,o)]}function f(e){switch(e){case 0:return"road";case 1:return"wall";case 19:return"lava";case 20:return"stars";default:return void 0!==W[e]?void 0!==W[e].T?W[e].T:void 0!==W[e].getImageName?W[e].getImageName():W[e].U:""}}function u(e,t){void 0===t&&(o(e)?(e=w(e),t=e.t,e=e.s):(t=e.t,e=e.s));var a=$("#rowcol-"+e+"-"+t),n="",i=a.attr("class").indexOf("char");if(i>-1){for(;""!=a.attr("class").charAt(i)&&" "!=a.attr("class").charAt(i);)i++;n=a.attr("class").slice(a.attr("class").indexOf("char"),i)}return n}function h(e,o){o=o||500,clearInterval(D.data.C);var t=$("#notification-container").css("animation-name");$("#notification-container").css("animation-name",""),$("#notification-container").css("animation-name",t),$("#notification").text(e),$("#notification-container").css("animation-duration",o/1e3+"s"),$("#notification-container").css("display","flex"),D.data.C=setTimeout(function(){$("#notification-container").css("display","none")},o),B.data.C=D.data.C}function p(e,o){A=!1,b(),o=o||function(e){switch(O.P(e.which)){case"enter":case"mobScreen":case"windCompass":case"holyWater":m()}},k(o),e='<div style="width:100%;">'+e+"</div>",$("#message-container>#message").html(e),$("#message-container").show()}function m(){b(),A=!0,k(),$("#message-container").hide()}function g(main,e){var o=$("#shop-container .flex-container").empty();o.append('<h5 id="main_text" class="text-flow"></h5>');var t=o.find("#main_text").text(main).text();o.find("#main_text").html(t.replace(/\n/g,"<br>"));for(var a=1;a<=e.length;a++){var n='<div class="flex_item-'+a+'"><h5 id="option-'+a+'">'+e[a-1]+"</h5></div>";o.append(n)}o.parent().show()}function v(){D.attack+=1e4,D.o+=1e4,D.q+=100,D.blue+=100,D.red+=100,D.B+=1e5,D.p+=1e5,D.data.D=21,W[33].action(),W[34].action(),W[35].action(),r()}function y(e){e?D.data.G.J=D.data.G.H:D.data.G.J=D.data.G.I,B.data.G.J=D.data.G.J}function w(e){return{s:Math.floor(e/11)+1,t:e%11+1}}function _(e,o){return"undefined"!=typeof o?11*(e-1)+o-1:11*(e.s-1)+e.t-1}function k(e){e=e||function(e){switch(e.which){case 9:case 18:case 27:for(var o in S)clearInterval(S[o]),delete S[o];return;case 37:clearInterval(S[39]),delete S[39],e.preventDefault();break;case 39:clearInterval(S[37]),delete S[37],e.preventDefault();break;case 38:clearInterval(S[40]),delete S[40],e.preventDefault();break;case 40:clearInterval(S[38]),delete S[38],e.preventDefault()}j&&S[e.which]||s(e.which),2==j&&(j=-1),j++,S[e.which]||(S[e.which]=setTimeout(function(){S[e.which]=setInterval(s,100,e.which)},150))},$(document).on("keydown.interaction",e)}function b(){$(document).off("keydown.interaction");for(var e in S)console.log("Stopping the interval of key: "+e),clearInterval(S[e]),delete S[e]}function x(){for(var e=120;e>=0;e--){var o=w(e),t=$("#rowcol-"+o.s+"-"+o.t);t.removeClass().addClass("tile")}}function I(e,o){o=o||function(){},J.ha=o;var t=W[e].U,a=W[e].ga,n=a.m,s=a.attack,l=a.o,c=D.attack-l;if(c<=0)return q._("too_weak"),D=$.extend(!0,{},B),!1;var d=Math.ceil(n/c)-1,f=s-D.o;if(d*f>D.m)return q._("too_weak"),D=$.extend(!0,{},B),!1;A=!1,$("#mob #name").text(i(t)),$("#mob #body").attr("src","./res/image/"+t+".gif"),$("#mob #life").text(n),$("#mob #attack").text(s),$("#mob #defense").text(l),$("#warrior #life").text(D.m),$("#warrior #attack").text(D.attack),$("#warrior #defense").text(D.o),$("#display-fight").css("display","block"),K.style(),setTimeout(U,40,n,s,l,a);var c=D.attack-a.o,d=Math.floor(a.m/c);return E=$.extend(!0,{},D),D.s=B.s,D.t=B.t,r(),!0}function U(e,o,t,a){var n=D.data.G.J,i=D.attack-t;e-=i,e<1&&(e=0),$("#mob #life").text(e),e>0?setTimeout(C,n,e,o,t,a):setTimeout(function(e){q._("end_fight"),c(E.s,E.t,0),D.u[E.floor][_(E.s,E.t)]=0,D.B=E.B+e.B,D.p=E.p+e.p,A=!0,h("GAINED "+e.B+" "+(e.B>1?"COINS":"COIN")+" AND "+e.p+" EXP!",700),r(),$("#display-fight").hide(),J.ha()},2*n,a)}function C(e,o,t,a){var n=D.data.G.J,i=o-D.o;i<0&&(i=0),D.m-=i,$("#warrior #life").text(D.m),setTimeout(U,n,e,o,t,a)}function T(o,t){var a=dialogs[o],n=$("#dialog_item"),i=$("#dialog_warrior");n.find("#icon").attr("src","./res/image/"+a.icon+".gif"),n.find("#title").text(a.title+":"),L=a.ia,G=0,Y=void 0===t?function(){}:t,b(),k(function(e){var o=Number(e.which);if("enter"==O.P(o)){var t=G;if(t>=L.length)return i.hide(),n.hide(),b(),k(),void Y();t>0&&q._("dialog");var a=L[t];0==a[0]?(a[1]=i.find("#message").text(a[1]).text(),i.find("#message").html(a[1].replace(/\n/g,"<br>")),n.hide(),i.show()):(a[1]=n.find("#message").text(a[1]).text(),n.find("#message").html(a[1].replace(/\n/g,"<br>")),i.hide(),n.show()),G++}}),e(32)}var F={};F.clone=function(e,o){for(var t,a,n,i,s,r,l=[{source:e,target:Object.create(Object.getPrototypeOf(e))}],c=l[0].target,d=[e],f=[c];i=l.shift();)for(n=Object.getOwnPropertyNames(i.source),t=0;t<n.length;t++)if(a=Object.getOwnPropertyDescriptor(i.source,n[t]),a.value&&"object"==typeof a.value){if(s=a.value,a.value=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),o){if(r=d.indexOf(s),r!==-1){a.value=f[r],Object.defineProperty(i.target,n[t],a);continue}d.push(s),f.push(a.value)}Object.defineProperty(i.target,n[t],a),l.push({source:s,target:a.value})}else Object.defineProperty(i.target,n[t],a);return c},function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.g=e();else{var o=window.Cookies,t=window.Cookies=e();t.h=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,o={};e<arguments.length;e++){var t=arguments[e];for(var a in t)o[a]=t[a]}return o}function o(t){function a(o,n,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},a.i,i),"number"==typeof i.j){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i.j),i.j=r}try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(e){}return n=t.write?t.write(n,o):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),o=o.replace(/[\(\)]/g,escape),document.cookie=[o,"=",n,i.j&&"; expires="+i.j.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}o||(s={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var f=l[d].split("="),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var h=f[0].replace(c,decodeURIComponent);if(u=t.read?t.read(u,h):t(u,h)||u.replace(c,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(o===h){s=u;break}o||(s[h]=u)}catch(e){}}return s}}return a.set=a,a.get=function(e){return a(e)},a.k=function(){return a.apply({json:!0},[].slice.call(arguments))},a.i={},a.remove=function(o,t){a(o,"",e(t,{j:-1}))},a.l=o,a}return o(function(){})});var B={level:0,m:0,attack:0,o:0,p:0,q:0,blue:0,red:0,s:0,t:0,u:{},floor:0,state:"char_front_rest",data:{},v:{}},D=$.extend(!0,{},B),E=$.extend(!0,{},B),H=!1,O={};O.A=function(){N={},W=F.clone(M,!0),b(),k(),x(),$("#display-fight").hide(),$("#mob-screen").hide(),$("#shop-container").hide(),$("#dialog_warrior").hide(),$("#dialog_item").hide(),B.level=1,B.m=1e3,B.attack=10,B.o=10,B.B=0,B.p=0,B.q=0,B.blue=0,B.red=0,B.u=jQuery.extend(!0,{},R),B.floor=0,B.state="char_front_rest",B.data={C:0,D:0,F:1,G:{H:25,I:200,J:200},dialogs:{old_man_1:!0,old_man_2:!0,merchant_1:!0,merchant_2:!0,thief_1:!0,thief_2:!0,princess:!0},K:{L:!1},M:{N:!1}},B.v={O:!0};var e=w(B.u[B.floor].indexOf(99));B.s=e.s,B.t=e.t,D=$.extend(!0,{},B),B.floor=-1,r(),H&&v()};var N={};O.V=function(e,o){"number"==typeof e&&(o=e,e=void 0);var a=e||D;o=o||1;for(var n=0;n++<o;)a.m+=150*Math.pow(a.level,.1),a.m=t(a.m),a.m+=800,a.attack+=7,a.o+=7,a.level++;return void 0===e&&r(),a},O.P=function(e){switch(e){case 13:case 32:case 101:return"enter";case 37:case 65:case 100:return"left";case 39:case 68:case 102:return"right";case 38:case 87:case 104:return"up";case 40:case 83:case 98:return"down";case 27:return"esc";case 18:return"alt";case 9:return"tab";case 76:return"mobScreen";case 79:return"windCompass";case 85:return"holyWater"}var o={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},t=e;return o[t]&&(t=o[t]),t=t>=65&&t<=90?String.fromCharCode(t+32):String.fromCharCode(t)},O.W=function(){q.X(B.floor,3e3),O.A()},O.Y=function(){q.load(),K.load()};var A=!0,S={},j=0;$(document).on("keyup.interaction",function(e){clearInterval(S[e.which]),delete S[e.which]}),$(window).load(function(){O.Y(),O.A(),H||V.v()});var P={};P.Z=function(e){for(var o in W)if(W[o].U==e||i(W[o].U)==e)return W[o];return null};var G,L,Y,R=[[1,20,20,20,20,13,20,20,20,20,1,1,20,20,20,20,98,20,20,20,20,1,1,20,20,20,20,0,20,20,20,20,1,1,20,20,20,20,0,20,20,20,20,1,1,20,20,20,20,0,20,20,20,20,1,1,20,20,20,20,0,20,20,20,20,1,1,1,20,20,20,0,20,20,20,1,1,1,1,1,1,1,2,1,1,1,1,1,19,1,19,1,0,24,0,1,19,1,19,19,19,19,19,19,99,19,19,19,19,19,19,19,19,19,19,0,19,19,19,19,19],[13,98,6,40,41,40,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,11,0,44,2,0,1,11,6,11,1,0,6,44,10,1,0,1,11,6,11,1,0,1,2,1,1,0,1,1,1,43,1,0,6,45,0,1,0,2,63,40,42,1,0,9,0,7,1,0,1,1,1,1,1,0,1,2,1,1,0,0,0,0,0,0,0,0,45,0,1,1,4,1,1,1,2,1,11,12,6,1,8,97,0,1,6,46,7,11,34,6,1,0,14,0,1,6,6,6],[14,1,0,55,0,1,10,9,6,8,1,97,1,9,1,12,1,10,9,6,7,1,0,1,6,1,6,1,10,9,6,54,1,0,1,6,1,6,1,1,1,1,2,1,0,1,0,1,0,0,0,2,0,0,1,0,1,2,1,1,2,1,1,2,1,1,0,5,0,0,0,0,1,0,54,0,1,0,1,2,1,1,3,1,115,1,115,1,0,1,6,1,12,11,1,0,1,0,1,98,1,6,1,12,11,1,0,1,0,1,13,1,10,1,12,11,1,26,1,27,1],[71,41,6,1,23,22,21,1,1,1,1,41,6,0,1,0,0,0,1,0,42,0,6,44,0,1,1,2,1,1,0,1,0,1,2,1,1,0,44,0,1,6,1,41,0,0,0,1,1,1,0,1,6,1,42,40,1,0,42,41,42,0,1,6,1,41,40,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,1,1,2,1,1,0,1,1,1,1,42,1,41,0,41,1,0,1,0,0,0,0,1,9,42,6,1,98,14,97,1,1,1,1,10,12,6,1,13],[0,43,0,1,0,25,0,1,0,43,0,2,1,2,1,0,0,0,1,2,1,2,0,1,0,1,1,115,1,1,0,1,0,0,1,44,1,48,49,48,1,44,1,0,42,1,11,1,9,48,9,1,11,1,42,42,1,11,1,1,4,1,1,11,1,42,41,1,0,1,46,47,46,1,0,1,41,0,1,0,1,10,46,10,1,0,1,0,0,1,0,1,1,3,1,1,0,1,0,98,1,0,1,6,0,6,1,0,1,97,13,1,0,43,0,0,0,43,0,1,14],[36,1,11,1,12,63,0,0,63,6,7,0,1,10,1,63,0,0,0,0,63,6,48,1,0,1,45,0,1,1,2,1,1,0,2,63,1,76,45,1,0,46,45,27,48,1,0,1,1,1,1,0,0,0,45,10,1,0,0,0,42,44,0,0,0,0,9,1,1,43,1,1,1,1,0,0,0,0,26,1,43,1,0,0,0,46,47,0,1,1,1,42,1,2,1,3,1,2,1,97,0,1,0,1,42,1,9,2,98,1,14,0,42,0,0,0,1,6,1,13,1],[30,56,1,9,1,6,51,39,1,12,12,56,6,1,10,1,0,6,51,1,65,12,6,49,3,0,3,49,0,6,1,0,65,0,0,1,47,1,0,0,0,1,66,0,1,1,1,4,1,1,1,1,1,2,1,0,0,64,0,6,6,6,0,64,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,48,2,48,0,0,0,0,0,1,0,1,2,1,2,1,1,1,1,3,1,0,1,48,1,0,0,1,1,0,97,1,0,0,0,1,13,98,2,2,0,14,1],[13,98,0,0,0,0,0,0,1,1,1,1,1,0,49,1,3,1,56,0,1,1,1,0,49,9,1,50,1,10,56,0,1,0,0,1,1,1,15,1,1,1,0,0,0,0,3,50,115,32,15,50,3,0,0,0,1,1,1,1,15,1,1,1,1,0,0,1,11,10,1,50,1,9,11,1,0,0,1,6,11,1,3,1,11,6,1,0,0,1,1,7,7,12,7,7,1,1,0,0,0,1,1,1,4,1,1,1,0,0,1,0,0,2,14,97,0,2,0,0,1],[14,1,0,0,0,0,1,0,6,56,0,97,1,0,1,1,2,1,2,1,1,0,0,1,0,1,0,0,3,0,0,1,10,201,1,0,1,60,1,1,1,48,1,43,48,1,0,1,11,1,13,98,0,1,43,49,1,9,1,11,1,1,1,1,1,0,48,1,43,1,0,0,0,1,0,49,0,0,1,43,1,1,1,47,1,2,1,1,0,1,0,56,0,1,56,1,0,0,0,0,1,1,1,2,1,0,1,1,1,0,0,0,60,0,0,1,0,51,50,51,0],[35,6,0,1,1,1,0,0,0,1,0,6,0,66,2,0,0,0,1,0,2,56,1,2,1,1,0,1,1,1,0,1,6,0,0,0,1,0,1,97,0,0,1,6,0,0,0,4,0,1,14,1,0,1,11,1,3,1,1,0,1,1,1,0,1,1,9,52,10,1,60,1,13,1,0,1,11,1,2,1,1,0,0,98,2,0,1,6,56,11,56,1,1,3,1,1,0,1,6,7,56,11,1,65,60,65,1,0,2,56,72,7,56,2,12,65,12,1,0,1,0],[0,1,1,9,66,1,66,10,1,1,0,0,0,1,1,2,1,2,1,1,0,65,0,0,0,0,0,1,0,0,0,65,12,0,1,0,1,1,1,1,1,0,1,1,48,1,0,0,6,6,6,0,0,1,6,49,1,0,1,1,1,1,2,1,1,6,48,1,0,115,97,14,1,0,2,49,0,0,1,1,1,1,1,1,2,1,1,0,0,1,11,9,10,1,0,49,0,1,6,98,1,11,9,10,4,60,1,60,1,6,13,1,11,9,10,1,7,1,7,1,11],[11,1,6,1,7,1,8,1,12,77,12,11,1,6,1,7,1,8,1,47,47,47,11,1,6,1,7,1,8,1,0,47,0,2,1,2,1,2,1,2,1,1,3,1,0,0,0,0,0,1,0,0,0,0,0,2,1,1,3,1,1,1,3,1,1,2,9,1,0,68,12,67,12,68,0,1,10,9,1,66,1,1,1,1,1,66,1,10,9,1,66,1,23,22,21,1,66,1,10,1,1,4,1,11,0,11,1,4,1,1,14,97,0,0,0,0,0,0,0,98,13],[27,9,1,0,54,55,54,0,1,12,38,10,0,1,0,1,2,1,0,1,0,12,0,0,1,0,1,55,1,0,1,0,0,0,67,1,0,1,6,1,0,1,58,0,67,61,1,0,1,6,1,0,1,57,58,1,3,1,0,1,11,1,0,1,3,1,0,0,0,0,1,11,1,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,9,67,2,68,68,69,68,68,2,67,10,1,1,1,1,1,3,1,1,1,1,1,13,98,0,0,0,0,0,0,0,97,14],[0,67,0,0,0,0,0,1,0,61,0,0,1,1,1,1,1,2,1,0,1,0,0,1,0,0,68,0,0,1,0,1,0,12,1,4,1,1,1,0,1,0,1,0,54,1,0,0,61,1,68,1,10,1,0,55,1,0,62,15,1,69,1,10,1,0,54,1,61,115,26,1,68,1,10,1,9,0,1,1,1,1,1,0,1,0,1,9,0,54,0,1,0,0,0,61,0,1,9,1,1,0,1,12,1,1,1,1,1,0,14,97,0,3,98,13,1,31,62,2,0],[1,0,58,36,13,98,0,0,0,0,1,1,0,12,1,1,1,1,1,12,0,1,1,0,1,1,1,1,1,1,1,0,1,1,0,1,1,1,33,1,1,1,0,1,1,0,1,1,1,115,1,1,1,0,1,1,0,11,1,1,61,1,1,11,0,1,1,0,20,20,1,62,1,20,20,0,1,1,0,20,20,1,61,1,20,20,0,1,1,0,20,20,1,3,1,20,20,0,1,1,68,69,68,3,97,3,68,69,68,1,1,1,1,1,1,14,1,1,1,1,1],[0,0,0,97,14,20,13,98,0,0,0,0,20,20,20,20,20,20,20,20,20,0,0,20,20,1,1,1,1,1,20,20,0,0,20,1,1,26,1,27,1,1,20,0,0,20,1,1,9,1,9,1,1,20,0,0,20,1,1,10,1,10,1,1,20,0,0,20,20,1,0,1,0,1,20,20,0,0,20,20,1,2,1,2,1,20,20,0,0,20,20,20,0,0,0,20,20,20,0,0,20,20,20,20,4,20,20,20,20,0,0,0,0,0,0,0,0,0,0,0,0],[20,20,20,20,20,97,14,20,20,20,20,20,20,20,20,20,0,20,20,20,20,20,20,20,20,20,20,0,20,20,20,20,20,20,20,20,20,1,4,1,20,20,20,20,20,20,20,1,1,119,1,1,20,20,20,20,20,20,1,1,53,1,1,20,20,20,20,20,20,1,1,98,1,1,20,20,20,20,20,20,1,1,13,1,1,20,20,20,20,20,20,20,1,1,1,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],[20,58,62,0,0,0,0,0,0,0,58,20,62,20,20,20,20,20,20,20,20,0,20,0,20,58,0,0,0,0,0,0,58,20,0,20,0,20,20,20,20,20,20,20,20,0,20,0,20,58,0,0,0,58,20,20,0,20,58,0,0,20,20,20,0,20,20,0,20,20,20,20,20,58,0,58,20,20,62,20,20,20,14,20,0,20,20,20,20,58,62,0,70,97,20,58,0,0,58,20,20,20,20,20,20,20,20,20,20,0,13,98,70,0,0,0,0,0,0,0,58],[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,1,1,1,20,20,20,20,20,20,20,1,1,28,1,1,20,20,20,20,20,20,1,1,115,1,1,20,20,20,20,20,20,1,1,4,1,1,20,20,20,20,20,20,20,1,4,1,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,14,97,0,0,0,0,0,0,0,98,0],[0,0,0,0,0,0,0,0,0,0,0,0,20,0,20,20,20,20,20,0,20,0,0,20,0,20,20,20,20,20,0,20,0,0,20,0,20,20,13,20,20,0,20,0,0,20,0,20,20,98,20,20,0,20,0,0,20,53,20,20,0,20,20,53,20,0,0,20,115,20,20,59,20,20,115,20,0,0,20,75,20,20,129,20,20,80,20,0,0,20,20,20,20,0,20,20,20,20,0,0,20,20,20,20,0,20,20,20,20,0,0,0,0,0,0,0,0,0,0,97,14],[70,10,50,11,62,8,62,11,50,10,70,12,20,6,20,7,20,7,20,6,20,12,20,9,50,0,58,0,58,0,50,9,20,11,20,6,20,0,14,0,20,6,20,11,62,7,58,0,0,97,0,0,58,7,62,8,20,0,20,0,20,0,20,0,20,8,62,7,58,0,0,98,0,0,58,7,62,11,20,6,20,0,13,0,20,6,20,11,20,9,50,0,58,0,58,0,50,9,20,12,20,6,20,7,20,7,20,6,20,12,70,10,50,11,62,8,62,11,50,10,70],[20,20,20,20,20,20,20,20,20,20,20,20,20,0,0,20,59,20,0,0,20,20,20,0,0,20,20,57,20,20,0,0,20,20,0,0,0,20,57,20,0,0,0,20,20,20,0,0,0,0,0,0,0,20,20,20,20,0,0,0,97,0,0,0,20,20,20,20,20,0,0,20,0,0,20,20,20,20,20,20,20,15,14,15,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]],W={0:{U:"road",action:function(){q._("move")},aa:!1},1:{U:"wall",action:function(){D=$.extend(!0,{},B)},aa:!1},2:{U:"door_yellow",action:function(){return D.q>0?(D.q--,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,void(D.t=B.t)):void(D=$.extend(!0,{},B))},aa:!1},3:{U:"door_blue",action:function(){return D.blue>0?(D.blue--,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,void(D.t=B.t)):void(D=$.extend(!0,{},B))},aa:!1},4:{U:"door_red",action:function(){return D.red>0?(D.red--,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,void(D.t=B.t)):void(D=$.extend(!0,{},B))},aa:!1},5:{U:"door_locked",action:function(){D=$.extend(!0,{},B)},aa:!1},6:{U:"key_yellow",action:function(){q._("pick_up_key"),D.q++,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("FOUND YELLOW KEY!")},aa:!1},7:{U:"key_blue",action:function(){q._("pick_up_key"),D.blue++,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("FOUND BLUE KEY!")},aa:!1},8:{U:"key_red",action:function(){q._("pick_up_key"),D.red++,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("FOUND RED KEY!")},aa:!1},9:{U:"defense_gem",action:function(){q._("pick_up_item"),D.o+=3,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 3 DEFENSE!")},aa:!1},10:{U:"attack_gem",action:function(){q._("pick_up_item"),D.attack+=3,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 3 ATTACK!")},aa:!1},11:{U:"small_potion",action:function(){q._("pick_up_item"),D.m+=200,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 200 HEALTH!")},aa:!1},12:{U:"big_potion",action:function(){q._("pick_up_item"),D.m+=500,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 500 HEALTH!")},aa:!1},13:{U:"stair_up",action:function(){q._("use_stairs"),D.floor++;var e=w(D.u[D.floor].indexOf(97));D.s=e.s,D.t=e.t,A=!1,setTimeout(function(){A=!0},240)},aa:!1},14:{U:"stair_down",action:function(){q._("use_stairs"),D.floor--;var e=w(D.u[D.floor].indexOf(98));D.s=e.s,D.t=e.t,A=!1,setTimeout(function(){A=!0},240)},aa:!1},15:{U:"door_jail_fake",action:function(){D=$.extend(!0,{},B)},aa:!1,T:"door_jail"},19:{U:"lava",action:function(){D=$.extend(!0,{},B)},aa:!1},20:{U:"stars",action:function(){D=$.extend(!0,{},B)},aa:!1},21:{U:"shop_right",action:function(){D=$.extend(!0,{},B)},aa:!1},22:{U:"shop_head",action:function(){switch(D=$.extend(!0,{},B),b(),D.v.O&&(h("See your stats on the left",3e3),D.v.O=!1),D.floor){case 3:var e="Want to improve your abilities?\nFor only 25 cold coins, you can choose:",o=["800 point increase in life","4 point increase in attack","4 point increase in defense","Leave the store"];break;case 11:var e="Want to improve your abilities?\nFor only 100 cold coins, you can choose:",o=["4000 point increase in life","20 point increase in attack","20 point increase in defense","Leave the store"];break;default:console.log("newChar.floor insn't 3 nor 11. newChar.floor is "+D.floor);var e="This is an error",o=[]}g(e,o);var t=$("#shop-container .flex-container");t.find(".flex_item-"+W[22].selected).toggleClass("selected"),W[34].ba&&N[76](),W[35].ca&&N[79](),k(function(t){t.preventDefault();var a=Number(t.which);console.log("The key "+a+" was pressed.");var n,i,s,l,c=$("#shop-container .flex-container"),d=W[22],f=d.selected;switch(D.floor){case 3:n=25,i=800,s=4,l=4;break;case 11:n=100,i=4e3,s=20,l=20;break;default:console.log("newChar.floor insn't 3 nor 11. newChar.floor is "+D.floor),e="This is an error"}switch(c.find(".flex_item-"+f).removeClass("selected"),O.P(a)){case"left":case"up":f>1&&(f--,q._("move_shop"));break;case"right":case"down":f<o.length&&(f++,q._("move_shop"));break;case"enter":if(f<4&&D.B>=n){D.B-=n,1==f&&(D.m+=i),2==f&&(D.attack+=s),3==f&&(D.o+=l),r();break}if(f<4&&D.B<n)break;f=1;case"esc":q._("exit_shop"),c.parent().hide(),b(),k();break;case"mobScreen":N[a]&&N[a]()}d.selected=f,c.find(".flex_item-"+f).toggleClass("selected")})},aa:!1,selected:1},23:{U:"shop_left",action:function(){D=$.extend(!0,{},B)},aa:!1},24:{U:"fairy",action:function(){if(D=$.extend(!0,{},B),1==D.data.F){var e=function(){D.q++,D.blue++,D.red++,q._("end_fairy_dialog"),D.u[D.floor][93]=0,c(9,6,0),D.u[D.floor][92]=24,c(9,5,24),D.data.F++,r(),h("EARNED ONE KEY OF EACH TYPE!")};T("fairy_1",e)}else if(2==D.data.F&&D.data.da){var e=function(){D.m=Math.round(4*D.m/3),D.attack=Math.round(4*D.attack/3),D.o=Math.round(4*D.o/3),D.data.F++,r(),h("YOU ARE MUCH STRONGER!!",1400)};T("fairy_2",e)}},aa:!1},25:{U:"thief",action:function(){if(D=$.extend(!0,{},B),D.data.dialogs.thief_1){var e=function(){D.data.dialogs.thief_1=!1,D.u[2][67]=0,r()};T("thief_1",e)}else if(D.data.dialogs.thief_2&&D.data.K.L){D.data.K.L=!1,D.data.dialogs.thief_2=!1,r();var e=function(){D.u[4][5]=0,c(1,6,0),D.u[18][_(9,6)]=0,D.u[18][_(10,6)]=0,r()};T("thief_2",e)}},aa:!1},26:{U:"old_man",action:function(){if(D=$.extend(!0,{},B),5==D.floor||13==D.floor){switch(b(),D.floor){case 5:var e="Hello, hero of humanity. As long as you have enough experience, I can make you more powerful:",o=["Level Up (100 points)","Increase 5 attack (30 points)","Increase 5 defense (30 points)","Leave the store"];break;case 13:var e="Hello, savior of humanity, as long as you have enough experience, I can make you stronger:",o=["Enhance yourself (270 points)","Increase 17 attack (95 points)","Increase 17 defense (95 points)","Leave the store"];break;default:console.log("newChar.floor insn't 5 nor 13. newChar.floor is "+D.floor);var e="This is an error",o=[]}g(e,o);var t=$("#shop-container .flex-container");t.find(".flex_item-"+W[22].selected).toggleClass("selected"),W[34].ba&&N[76](),W[35].ca&&N[79](),k(function(t){t.preventDefault();var a=Number(t.which);console.log("The key "+a+" was pressed.");var n,i,s,l,c,d=$("#shop-container .flex-container"),f=W[22],u=f.selected;switch(D.floor){case 5:n=30,i=100,s=5,l=5,c=1;break;case 13:n=95,i=270,s=17,l=17,c=3;break;default:console.log("newChar.floor insn't 3 nor 11. newChar.floor is "+D.floor),e="This is an error"}switch(d.find(".flex_item-"+u).removeClass("selected"),O.P(a)){case"left":case"up":u>=2&&(u--,q._("move_shop"));break;case"right":case"down":u<o.length&&(u++,q._("move_shop"));break;case"enter":if(1==u){if(D.p<i)break;D.p-=i,O.V(c);break}if(u<4){if(D.p<n)break;D.p-=n,2==u&&(D.attack+=s),3==u&&(D.o+=l),r();break}q._("exit_shop"),d.parent().hide(),u=1,b(),k();break;case"esc":q._("exit_shop"),d.parent().hide(),b(),k();break;case"mobScreen":N[a]&&N[a]()}f.selected=u,d.find(".flex_item-"+u).toggleClass("selected")})}else 2==D.floor&&D.data.dialogs.old_man_1?T("old_man_1",function(){D.attack+=70,h("Earned 70 attack!",1e3),D.data.dialogs.old_man_1=!1,r()}):15==D.floor&&D.data.dialogs.old_man_2&&T("old_man_2",function(){p(' \t\t\t\t\t\t<div style="height: calc(100% + 120px);width: 100%;display:flex;flex-direction:column;margin: auto;align-items: center;"> \t\t\t\t\t\t\t<p id="main_text" style=" display: block; position: relative;">Spend 500 experience points?</p> \t\t\t\t\t\t\t<div style=" display: flex; width: 100%;"> \t\t\t\t\t\t\t\t<div id="option_1" style="display: flex; position: relative; float: left; width: 50%;" class="selected"> <h1 style="margin:auto;">Yeah</h1> </div>\t\t\t\t\t\t\t\t\t<div id="option_2" style="display: flex; position: relative; float: right; width: 50%;" > <h1 style="margin:auto;">Maybe later</h1> </div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div>',function(e){$("#option_1").removeClass("selected"),$("#option_2").removeClass("selected");var o=D.data.ea||1;switch(O.P(e.which)){case"left":o>1&&(o--,q._("move_shop"));break;case"right":o<2&&(o++,q._("move_shop"));break;case"enter":2==o&&m(),1==o&&(D.p>=500?(D.attack+=120,D.p-=500,m(),h("GAINED 120 ATTACK!"),D.data.dialogs.old_man_2=!1):(m(),h("NOT ENOUGH EXPERIENCE"))),o=1;break;case"esc":m()}$("#option_"+o).addClass("selected"),D.data.ea=o,r()})})},aa:!1,selected:1},27:{U:"merchant",action:function(){if(D=$.extend(!0,{},B),5==D.floor||12==D.floor){switch(b(),D.floor){case 5:var e="I’m sure you have other needs as well.\nAs long as you have money, I can help you:",o=["Buy a yellow key ($ 10)","Buy a blue key ($ 50)","Buy a red key ($ 100)","Leave the store"];break;case 12:var e="If you are short of gold, I may be of help:",o=["Sell a yellow key ($ 7)","Sell a blue key ($ 35)","Sell a red key ($ 70)","Leave the store"];break;default:console.log("newChar.floor insn't 5 nor 13. newChar.floor is "+D.floor);var e="This is an error",o=[]}g(e,o);var t=$("#shop-container .flex-container");t.find(".flex_item-"+W[22].selected).toggleClass("selected"),W[34].ba&&N[76](),W[35].ca&&N[79](),k(function(e){e.preventDefault();var t=Number(e.which);console.log("The key "+t+" was pressed.");var a,n,i,s=$("#shop-container .flex-container"),l=W[22],c=l.selected;switch(D.floor){case 5:a=10,n=50,i=100;break;case 12:a=7,n=35,i=70;break;default:console.log("newChar.floor insn't 3 nor 12. newChar.floor is "+D.floor)}switch(s.find(".flex_item-"+c).removeClass("selected"),O.P(t)){case"left":case"up":c>=2&&(c--,q._("move_shop"));break;case"right":case"down":c<o.length&&(c++,q._("move_shop"));break;case"enter":if(c<4){5==D.floor&&(1==c&&D.B>a&&(D.B-=a,D.q++),2==c&&D.B>n&&(D.B-=n,D.blue++),3==c&&D.B>i&&(D.B-=i,D.red++)),12==D.floor&&(1==c&&D.q>0&&(D.B+=a,D.q--),2==c&&D.blue>0&&(D.B+=n,D.blue--),3==c&&D.red>0&&(D.B+=i,D.red--)),r();break}q._("exit_shop"),s.parent().hide(),c=1,b(),k();break;case"esc":q._("exit_shop"),s.parent().hide(),b(),k();break;case"mobScreen":N[t]&&N[t]()}l.selected=c,s.find(".flex_item-"+c).toggleClass("selected")})}else 2==D.floor&&D.data.dialogs.merchant_1?T("merchant_1",function(){O.V(D),h("Level Up!",1e3),D.m+=1e3,D.o+=85,setTimeout(function(){h("Earned 85 defense and 1000 HP!",1e3)},1050),D.data.dialogs.merchant_1=!1,r()}):15==D.floor&&D.data.dialogs.merchant_2&&T("merchant_2",function(){p(' \t\t\t\t\t\t<div style="height: calc(100% + 120px);width:100%;display:flex;flex-direction:column;margin: auto;align-items: center;"> \t\t\t\t\t\t\t<p id="main_text" style="display:block;position:relative;">Spend 800 gold coins?</p> \t\t\t\t\t\t\t<div style="display: flex; width: 100%;"> \t\t\t\t\t\t\t\t<div id="option_1" style="display:flex;position:relative;float:left;width:50%;" class="selected"> <h1 style="margin:auto;">Yeah</h1> </div>\t\t\t\t\t\t\t\t\t<div id="option_2" style="display:flex;position:relative;float:right;width:50%;" > <h1 style="margin:auto;">Maybe later</h1> </div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div>',function(e){$("#option_1").removeClass("selected"),$("#option_2").removeClass("selected");var o=D.data.ea||1;switch(O.P(e.which)){case"left":o>1&&(o--,q._("move_shop"));break;case"right":o<2&&(o++,q._("move_shop"));break;case"enter":1==o&&(D.B>=800?(m(),O.V(D),h("LEVEL UP",1e3),D.m+=1e3,D.attack+=85,setTimeout(function(){h("GAINED 85 ATTACK AND 1000 HP!",1e3)},1e3),D.B-=800,D.data.dialogs.merchant_2=!1):(m(),h("NOT ENOUGH COINS"))),2==o&&m(),o=1}$("#option_"+o).addClass("selected"),D.data.ea=o,r()})})},aa:!1},28:{U:"princess",action:function(){D=$.extend(!0,{},B),D.data.dialogs.princess&&T("princess",function(){D.data.dialogs.princess=!1,D.u[18][120]=13,c(11,11,13),r()})},aa:!1},30:{U:"super_wing_1",action:function(){O.V(D),D.m+=200,D.attack+=4,D.o+=4,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("EARNED STATS AND LEVEL!",1e3)},aa:!1},31:{U:"super_wing_2",action:function(){O.V(D),D.m+=600,D.attack+=12,D.o+=12,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("EARNED STATS AND LEVELS!",1e3)},aa:!1},32:{U:"lucky_cross",action:function(){D.data.da=!0,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,p('<div style="display: block;"> \t\t\t\t <div style="color:sandybrown"><center><h1>Lucky Cross</h1></center></div> \t\t\t\t <h5><br>Give it to the fairy to enhance her abilities</h5>'+a('<h6 style="bottom: 0px; float:right;">Space</h6>')+"</div>"),D.s=B.s,D.t=B.t,r()},aa:!1},33:{U:"holy_water",action:function(){D.data.fa=!0,p('<div style="display: block;"> \t\t\t\t <div style="color:sandybrown"><center><h1>Holy Water</h1></center></div> \t\t\t\t <h5><br>Drinking the holy water doubles your constitution </h5> \t\t\t\t <br><h5>To use it, press the <span style="color:#18D800">U</span> \t\t\t\t in your keyboard.</h5>'+a('<h6 style="bottom: 0px; float:right;">Space</h6>')+"</div>"),N[85]=function(){D.data.fa&&(D.data.fa=!1,D.m*=2,h("DOUBLED YOUR CONSTITUTION",1e3),r())},c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,r()},aa:!1},34:{U:"light_emblem",action:function(){p('<div style="display: block;"> \t\t\t\t <div style="color:khaki"><center><h1>Light Emblem</h1></center></div> \t\t\t\t <h5><br>This treasure can see the basic situation \t\t\t\t of monsters.<br>To use it, press the <span style="color:#18D800">L</span> \t\t\t\t in your keyboard.</h5>'+a('<h6 style="bottom: 0px; float:right;">Space</h6>')+"</div>"),N[76]=function(){if(A=!1,setTimeout(function(){A=!0},160),$mobScreen=$("#mob-screen"),W[34].ba)$mobScreen.hide(),W[34].ba=!1;else{$mobScreen.show(),W[34].ba=!0;for(var e=D.u[D.floor],o=[],t=0;t<e.length;t++)if(void 0!==W[e[t]]){var a;a="function"==typeof W[e[t]].aa?W[e[t]].aa():W[e[t]].aa,a&&o.indexOf(W[e[t]])==-1&&o.push(W[e[t]])}o.sort(function(e,o){return e.U>o.U?1:e.U<o.U?-1:0}),$('#mob-screen [id^="row-"]').hide();for(var t=0;t<o.length;t++){var i=o[t].U,s=o[t].ga,r=i.split("_"),l="";for(n=0;n<r.length;n++)l=l+" "+r[n][0].toUpperCase()+r[n].substring(1);l=l.substring(1);var c=$("#mob-screen #row-"+(t+1)).show();c.find("#name").text(l),c.find("#body").attr("src","./res/image/"+i+".gif"),c.find("#life").text(s.m),c.find("#attack").text(s.attack),c.find("#defense").text(s.o),c.find("#gains").text(s.B+"~"+s.p);var d=0,f=D.attack-s.o;d=f<=0?"∞":(Math.ceil(s.m/f)-1)*(s.attack-D.o),"∞"!=d&&d<1&&(d=0),c.find("#loss").text(d)}}K.style()},c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t},aa:!1,ba:!1},35:{U:"wind_compass",action:function(){p('<div style="display: block;"> \t\t\t\t <div style="color:lightsteelblue"><center><h1>Wind Compass</h1></center></div> \t\t\t\t <h5><br>This treasure lets you go freely up or down \t\t\t\t floors that you’ve visited previously.<br> Use the \t\t\t\t <span style="color:#18D800">O</span> \t\t\t\t and select the floor you want to send a \t\t\t\t stream of wind that will carry you there.</h5>'+a('<h6 style="bottom: 0px; float:right;">Space</h6>')+"</div>"),N[79]=function(){var e=$("#floor-screen"),o=e.find(".flex-container");if(W[35].ca)e.hide(),
b(),k(),W[35].ca=!1;else{if(D.floor==R.length-1)return;W[35].ca=!0,e.show(),b(),o.empty();for(var t=1;t<=D.data.D;t++){var a='<div class="flex_item-'+t+'"><h5 id="floor-'+t+'">Floor '+t+"</h5></div>";o.append(a)}o.find("#floor-"+W[35].selected).toggleClass("selected"),k(function(e){e.preventDefault();var t=Number(e.which),a=W[35].selected,n=D.data.D;switch(o.find("#floor-"+a).removeClass("selected"),O.P(t)){case"left":a>7&&(a-=7);break;case"right":a<=n-7&&(a+=7);break;case"up":a>=2&&a--;break;case"down":a<n&&a++;break;case"enter":if(D.floor<a){var i=w(D.u[a].indexOf(97));D.s=i.s,D.t=i.t}if(D.floor>a){var i=w(D.u[a].indexOf(98));D.s=i.s,D.t=i.t}D.floor=a,q._("wind_compass");case"esc":W[34].ba&&N[76](),N[79](),r();break;default:N[t]&&N[t]()}W[35].selected=a,o.find("#floor-"+a).toggleClass("selected")})}},c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t},ca:!1,selected:1},36:{U:"key_super",action:function(){D.q++,D.blue++,D.red++,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("EARNED KEYS!",600)},aa:!1},38:{U:"star_pickaxe",action:function(){D.data.K.L=!0,p('<div style="display: block;"> \t\t\t\t <div style="color:sandybrown"><center><h1>Starlight God Ornament</h1></center></div> \t\t\t\t <h5><br>An experienced locksmith can open the gate to the Dark Clouds using the Starlight.</h5>'+a('<h6 style="bottom: 0px; float:right;">Space</h6>')+"</div>"),c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,r()},aa:!1},39:{U:"king_coin",action:function(){D.B+=300,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("KING COIN! EARNED 300 GOLD!",1e3)},aa:!1},40:{U:"green_slime",action:function(){I(40)},ga:{m:50,attack:20,o:1,B:1,p:1},aa:!0},41:{U:"red_slime",action:function(){I(41)},ga:{m:70,attack:15,o:2,B:3,p:2},aa:!0},42:{U:"bat",action:function(){I(42)},ga:{m:100,attack:20,o:5,B:3,p:2},aa:!0},43:{U:"dark_mass",action:function(){I(43)},ga:{m:200,attack:35,o:10,B:5,p:3},aa:!0},44:{U:"skeleton",action:function(){I(44)},ga:{m:110,attack:25,o:5,B:5,p:3},aa:!0},45:{U:"armed_skeleton",action:function(){I(45)},ga:{m:150,attack:40,o:20,B:8,p:5},aa:!0},46:{U:"sand_guardian",action:function(){I(46)},ga:{m:300,attack:75,o:45,B:13,p:10},aa:!0},47:{U:"sand_god",action:function(){I(47)},ga:{m:450,attack:150,o:90,B:22,p:19},aa:!0},48:{U:"large_bat",action:function(){I(48)},ga:{m:150,attack:65,o:30,B:10,p:8},aa:!0},49:{U:"vampire",action:function(){I(49)},ga:{m:550,attack:170,o:100,B:25,p:20},aa:!0},50:{U:"white_knight",action:function(){I(50)},ga:{m:1300,attack:400,o:225,B:40,p:30},aa:!0},51:{U:"mysterious_king",action:function(){I(51)},ga:{m:700,attack:250,o:125,B:32,p:25},aa:!0},52:{U:"wizard",action:function(){I(52)},ga:{m:500,attack:400,o:260,B:47,p:35},aa:!0},53:{U:"devil",action:function(){switch(D.floor){case 16:this.ga={m:15e3,attack:1e3,o:1e3,B:100,p:100};break;case 19:this.ga={m:2e4,attack:1333,o:1333,B:100,p:100}}I(53)},ga:{m:15e3,attack:1e3,o:1e3,B:100,p:100},aa:!0},54:{U:"officer",action:function(){I(54)},ga:{m:1e3,attack:500,o:380,B:45,p:35},aa:function(){return 2!=D.floor}},55:{U:"major",action:function(){I(55)},ga:{m:900,attack:750,o:650,B:77,p:60},aa:function(){return 2!=D.floor}},56:{U:"skeleton_captain",action:function(){I(56)},ga:{m:400,attack:90,o:50,B:15,p:12},aa:!0},57:{U:"dark_king",action:function(){I(57)},ga:{m:1500,attack:830,o:730,B:80,p:65},aa:!0},58:{U:"dark_knight",action:function(){I(58)},ga:{m:1200,attack:980,o:900,B:88,p:75},aa:!0},59:{U:"chaos",action:function(){19==D.floor&&I(59,function(){var e=W[59].ga;e.m=37500,e.attack=2250,e.o=1800,D.data.M.N=!0,r(),T("chaos_1_after")}),21==D.floor&&I(59,function(){T("chaos_2_after")})},ga:{m:25e3,attack:1500,o:1200,B:150,p:120},aa:!0},60:{U:"mage",action:function(){I(60)},ga:{m:150,attack:120,o:70,B:20,p:5},aa:!0},61:{U:"knight",action:function(){I(61)},ga:{m:2e3,attack:680,o:590,B:70,p:55},aa:!0},62:{U:"osiris",action:function(){I(62)},ga:{m:2500,attack:900,o:850,B:84,p:70},aa:!0},63:{U:"sorcerer",action:function(){I(63)},ga:{m:125,attack:50,o:25,B:10,p:7},aa:!0},64:{U:"necromancer",action:function(){I(64)},ga:{m:100,attack:200,o:110,B:30,p:25},aa:!0},65:{U:"moai",action:function(){I(65)},ga:{m:500,attack:115,o:65,B:15,p:15},aa:!0},66:{U:"sand_warrior",action:function(){I(66)},ga:{m:900,attack:450,o:330,B:50,p:40},aa:!0},67:{U:"zoro",action:function(){I(67)},ga:{m:1200,attack:620,o:520,B:65,p:50},aa:!0},68:{U:"apep",action:function(){I(68)},ga:{m:1250,attack:500,o:400,B:55,p:45},aa:!0},69:{U:"sutekh",action:function(){I(69)},ga:{m:1500,attack:560,o:460,B:60,p:50},aa:!0},70:{U:"teslathor",action:function(){I(70)},ga:{m:3100,attack:1050,o:950,B:92,p:80},aa:!0},71:{U:"sword_1",action:function(){D.attack+=10,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 10 ATTACK!")},aa:!1},72:{U:"sword_2",action:function(){D.attack+=40,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 40 ATTACK!")},aa:!1},75:{U:"sword_5",action:function(){D.attack+=120,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t},aa:!1},76:{U:"shield_1",action:function(){D.o+=15,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 15 DEFENSE!")},aa:!1},77:{U:"shield_2",action:function(){D.o+=50,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 50 DEFENSE!")},aa:!1},80:{U:"shield_5",action:function(){D.o+=150,c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t,h("GAINED 150 DEFENSE!")},aa:!1},97:{U:"move_up_target",action:function(){P.Z("road").action()},aa:!1,T:"road"},98:{U:"move_down_target",action:function(){P.Z("road").action()},aa:!1,T:"road"},115:{U:"door_jail_real",action:function(){c(D.s,D.t,0),D.u[D.floor][_(D.s,D.t)]=0,D.s=B.s,D.t=B.t},aa:!1,T:"door_jail"},119:{U:"devil_dialog_start",action:function(){D=$.extend({},B,!0),T("red_devil",function(){D.u[16][_(5,6)]=0,r()})},aa:!1,T:"road"},129:{U:"chaos_dialog_start",action:function(){D=$.extend(!0,{},B),T("chaos_1",function(){D.u[19][_(8,6)]=0,r()})},aa:!1,T:"road"},201:{U:"sign",action:function(){V.beta(),D=$.extend(!0,{},B)},aa:!1}},M=F.clone(W,!0),J=function e(){var e=function(){alert("Called the Fight contructor, what has no sense.")};return e.ha=function(){},e}(),dialogs={fairy_1:{icon:"fairy",title:"Fairy",ia:[[0,"......"],[1,"You are awake!"],[0,"Who are you? Where am I?"],[1,"I am a fairy, I was here when mobs knocked you out."],[0,"Did you see my sword?"],[1,"Your sword was taken away, I only had time to rescue you."],[0,"Is the princess alright? I'm here to rescue her."],[1,"The princess is inside, but you are no match for the monsters in there."],[0,"What can I do? I promised the king that I was going to save her."],[1,"Do not worry. I will lend you all of my power to help you beat those mobs that have beaten me before."],[1,"However, you have to help me find something first."],[0,"Find something? What do you want to find?"],[1,"A cross with a red gem in the middle."],[0,"What's that thing for?"],[1,"I had this guardian tower not long ago, and an evil group of monsters from the north with magic took it from me and sealed my magic in this cross. "],[1,"If you can bring it out of the tower, the magic in the seal will gradually come back to me, then, I will be able to lend you strength to rescue the princess."],[0,"Well... I will try."],[1,"I just went there to look for your stuff. Your sword is on the third floor, and your shield on the fifth."],[1,"Oh, and that cross I just mentioned is on the seventh floor, but to go to the seventh floor you must first retrieve your sword and shield."],[1,"In addition, the other floors in the tower have had for centuries swords and treasures, which, if you recover, they’ll help you a lot in dealing with the monsters inside."],[0,"But... How do I get in?"],[1,"I've got three keys, take them. There aren't a lot of them in the tower."],[1,"Go, brave warrior!!!"]]},fairy_2:{icon:"fairy",title:"Fairy",ia:[[0,"Fairy, I’ve found the cross with the gem."],[1,"You did very well. Now I can give you more power!"],[1,"Mew La Quiver Mew Clamor... "],[1,"There, I’ve enhanced your ability!"]]},old_man_1:{icon:"old_man",title:"Old Man",ia:[[0,"You are safe now!"],[1,"Oh, my son. Thank you so much!"],[1,"This place is so dirty and scary. I can't stand it anymore!"],[0,"Just go now. I still need to rescue the princess."],[1,"Oh, you're here to rescue our princess. To express my appreciation        please allow me to give this to you. I used it when I was still young."],[1,"Use it to save the princess!!"]]},old_man_2:{icon:"old_man",title:"Old Man",ia:[[1,"Hello, brave child, you are finally here."],[1,"I'll give you a very good treasure."],[1,"It will increase your attack by a 120 points. But it will cost you        500 experience points."],[1,"Just think about it."]]},merchant_1:{icon:"merchant",title:"Businessman",ia:[[0,"You are safe now!"],[1,"Oh, thanks! I really appreciate it!"],[1,"I'm a business man. I don't know why I was brought here."],[0,"Go on, you are free now!"],[1,"Oh, yeah, I'm free now!"],[1,"I'll give this to you, then. I was going to sell this before but you can keep it."],[1,"I hope it helps!"]]},merchant_2:{icon:"merchant",title:"Businessman",ia:[[1,"Aha, welcome! I have an item that will be good for you."],[1,"As long as you have the money, I'll sell it to you."],[0,"What kind of thing? How much?"],[1,"It is the best shield in this world. It will increase 120 your defense."],[1,"It only costs you 800 gold coins."]]},thief_1:{icon:"thief",title:"Thief",ia:[[0,"You are saved!"],[1,"Ah, that is great! I can hunt treasures again!"],[1,"Oh, I haven't introduced myself. I'm Jack."],[1,"I'm a famous thief around here. I stole many treasures before."],[1,"But I had bad luck this time. I was caught just after I got in here."],[1,"Since you opened this door for me, let me help you out."],[0,"Just go now. There're many monsters outside. I may not be able to take care of you."],[1,"No, It doesn't matter.\nJust tell me what do you want me to do."],[0,"....Can you open a door?"],[1,"Of course."],[0,"Then please open the door of the 2nd floor for me!"],[1,"That's easy."],[1,"If you happen to find a pickaxe studded with a ruby..."],[1,"… come talk to me.\nSomething weird is going on here."],[0,"A pickaxe studded with a ruby? Ok, I'll try to help you."],[1,"Thank you very much.\nI'll open the door on 2nd floor right now."],[1,"If you find that pickaxe, come here again and talk to me."]]},thief_2:{icon:"thief",title:"Thief",ia:[[0,"Hey, look what I found!"],[1,"Wow! So the tales were true! That thing was really here!"],[1,"The tale says that if a thief breaks the roof of this tower,  a very important person can conjure a gate to the real top of the tower."],[1,'They say it is a cursed land, called by most as "Dark Clouds".'],[0,"I need to go go there to save the kingdom!"],[1,"As a thief, I can do this, but it is very dangerous. I'm only going to do it because you saved me. "],[1,"Tell my family I love them."],[1,"After the roof breaks you will need to find a way to open the portal, meanwhile, I will use the debris to make a bridge to reach the princess, and stairs for the portal."]]},princess:{icon:"princess",title:"Princess",ia:[[0,"Princess! You are safe now!"],[1,"Oh, are you here to save me?"],[0,"Yes, I am instructed by the king's command to save you."],[0,"Please follow me out of here!"],[1,"No, I don't want to leave yet."],[0,"Why? There are demons everywhere in here."],[1,"That’s exactly why I can’t just leave."],[1,"I want to see this demon killed myself!"],[1,"Heroic warrior, if you can kill the Demon..."],[1,"I'll go with you"],[0,"The Demon?\nI've already killed the demon!"],[1,"The demon on the top of the tower?\nBut if the gate isn't open...?"],[0,"The top of the tower?\nI killed a demon on my way here."],[1,"You didn't kill the demon, the one you killed might just be a squadron leader."],[1,"The Demon is on the top of the tower.\nI'll open the gate for you."],[1,"The power of the big demon at the top isn't comparable to anything that you've seen before in your life!"],[0,"Then what are you waiting for? Run!"],[1,"What for? To leave you here to die and get me locked up again?\nYou must kill him!"],[0,"Ok, wait here.\nI'll kill that Demon."],[1,"The Demon is not only much stronger, but he can also transform.\nAfter his transformation..."],[1,"his attack and defence will increase immensely.\nBe careful!"],[1,"Please come back safe!"]]},red_devil:{icon:"devil",title:"Devil",ia:[[0,"Die, Demon!"],[1,"Hahaha... You are such a fool."],[1,"Don't think you can beat me just because that fairy butterfly  gave you some power."],[1,"You are still too young!"],[0,"Shut up and die!"]]},chaos_1:{icon:"chaos",title:"Chaos",ia:[[0,"Die, Demon!"],[1,"Hahaha... You are such a fool."],[1,"Don't think you can beat me just because that fairy butterfly  gave you some power."],[1,"You are still too young!"],[0,"Shut up and die!"]]},chaos_1_after:{icon:"chaos",title:"Chaos",ia:[[1,"You've got some skills. Just try to follow me to the 21st floor!"],[1,"There, now you can see my real power!"]]},chaos_2_after:{icon:"chaos",title:"Chaos",ia:[[1,"Ah... How could this be, how could I..."],[1,"...be defeated by you?!\nNo, this can't be..."]]}},K=function(){var e=function(){alert("Called the Doc contructor, what has no sense.")};return e.ja=function(){for(var e=$("#tiles"),o=1;o<12;o++)for(var t=1;t<12;t++)e.append('<div class="tile" id="rowcol-'+o+"-"+t+'"></div>')},e.load=function(){e.ja(),e.style(),$("#display-fight").hide(),$("#mob-screen").hide(),$("#shop-container").hide(),$("#dialog_warrior").hide(),$("#dialog_item").hide(),$("#restart-container").hide(),$("#beta").hide()},e.style=function(){var e=$("#warrior #body-container"),o=$("#warrior #name");o.css("right",parseFloat(e.css("right"))+parseFloat(e.outerWidth(!0))/2-parseFloat(o.outerWidth(!1))/2-parseFloat(o.css("margin-right"))+"px"),o.css("top",parseFloat(e.css("top"))+parseFloat(e.outerHeight(!0))-parseFloat(o.css("margin-top"))+"px"),e=$("#mob #body-container"),o=$("#mob #name"),o.css("left",parseFloat(e.css("left"))+parseFloat(e.outerWidth(!0))/2-parseFloat(o.outerWidth(!1))/2-parseFloat(o.css("margin-left"))+"px"),o.css("top",parseFloat(e.css("top"))+parseFloat(e.outerHeight(!0))-parseFloat(o.css("margin-top"))+"px");var t=$("#game-container"),a=$("#displays_left");t.css("left","26vw"),t.position().left<a.width()&&t.css("left",a.width());var n=$("#keys-container"),i=$("#keys");i.css("top",(parseFloat(n.height())-parseFloat(i.height()))/2+"px");var s=$("#volume");s.css("top",parseFloat(t.css("top"))+parseFloat(t.outerHeight(!0))+"px"),s.css("left",parseFloat(t.css("left"))+parseFloat(t.outerWidth(!0))-parseFloat(s.outerWidth(!0))+"px")},e}();$(window).resize(K.style);var q={};q.ka,q.la,q.S=function(e,t){(t<0||t>=q.ka.length||void 0===t)&&(t=B.floor);var a=q.ka[e],n=q.ka[t];console.log("Setting music for floor "+e+(void 0!==n?", coming from floor "+t:"")),a.stop(),a.play("main"),a.volume(0),void 0!==n&&a.seek(n.seek()<15?n.seek():.5),a.fade(0,1,100),void 0!==n&&a.once("fade",function(){q.ka[B.floor]!==n?(n.volume(0),n.stop()):(a.volume(0),a.stop())});var i="At "+a.seek();void 0!==n&&(i+=", the old song was at "+n.seek()),o(a.seek())&&console.log(i)},q.X=function(e,o){e=e||D.floor,o=o||0;var t=q.ka[e];t.fade(1,0,o),t.once("fade",function(){q.ka[B.floor]!==t&&t.stop()})},q._=function(e){var o=q.la[e];o.volume(o.volume()-5e-5),q.la[e].play("main")},q.ma=function(){q.ka=[],q.ka[0]=new Howl({src:["./res/sound/floors/floor_0-18.mp3"],sprite:{main:[0,15e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 0")}}),q.ka[1]=new Howl({src:["./res/sound/floors/floor_1.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 1")}}),q.ka[2]=new Howl({src:["./res/sound/floors/floor_2.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 2")}}),q.ka[3]=new Howl({src:["./res/sound/floors/floor_3.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 3")}}),q.ka[4]=new Howl({src:["./res/sound/floors/floor_4-5.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 4")}}),q.ka[5]=new Howl({src:["./res/sound/floors/floor_4-5.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 5")}}),q.ka[6]=new Howl({src:["./res/sound/floors/floor_6-7.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 6")}}),q.ka[7]=new Howl({src:["./res/sound/floors/floor_6-7.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 7")}}),q.ka[8]=new Howl({src:["./res/sound/floors/floor_8-9.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 8")}}),q.ka[9]=new Howl({src:["./res/sound/floors/floor_8-9.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 9")}}),q.ka[10]=new Howl({src:["./res/sound/floors/floor_10.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 10")}}),q.ka[11]=new Howl({src:["./res/sound/floors/floor_11.mp3"],sprite:{main:[200,32400]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 11")}}),q.ka[12]=new Howl({src:["./res/sound/floors/floor_12.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 12")}}),q.ka[13]=new Howl({src:["./res/sound/floors/floor_13.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 13")}}),q.ka[14]=new Howl({src:["./res/sound/floors/floor_14.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 14")}}),q.ka[15]=new Howl({src:["./res/sound/floors/floor_15.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 15")}}),q.ka[16]=new Howl({src:["./res/sound/floors/floor_16.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 16")}}),q.ka[17]=new Howl({src:["./res/sound/floors/floor_17.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 17")}}),q.ka[18]=q.ka[0],q.ka[19]=new Howl({src:["./res/sound/floors/floor_19.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 19")}}),q.ka[20]=new Howl({src:["./res/sound/floors/floor_20.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 20")}}),q.ka[21]=new Howl({src:["./res/sound/floors/floor_21.mp3"],sprite:{main:[200,16e3]},loop:!0,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log("Finished loading song from floor 21")}}),Howler.volume(1)},q.na=function(){var e={};e.move=new Howl({src:["./res/sound/move.mp3"],sprite:{main:[0,1e4]},loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "move"')},volume:.3}),e.pick_up_key=new Howl({src:["./res/sound/pick_up_key.mp3"],sprite:{main:[100,1e4]},loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "pick_up_key"')}}),e.pick_up_item=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/pick_up_item.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "pick_up_item"')}}),e.move_shop=new Howl({src:["./res/sound/move_shop.mp3"],sprite:{main:[0,1e4]},loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "move_shop"')}}),e.exit_shop=new Howl({sprite:{main:[100,1e4]},src:["./res/sound/exit_shop.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "exit_shop"')}}),e.attack_weak=new Howl({sprite:{main:[100,1e4]},src:["./res/sound/attack_weak.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "attack_weak"')}}),e.attack_normal=new Howl({sprite:{main:[100,1e4]},src:["./res/sound/attack_normal.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "attack_normal"')}}),e.attack_strong=new Howl({sprite:{main:[100,1e4]},src:["./res/sound/attack_strong.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "attack_strong"')}}),e.end_fight=new Howl({sprite:{main:[100,1e4]},src:["./res/sound/end_fight.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "end_fight"')}}),e.dialog=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/dialog.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "dialog"')}}),e.end_fairy_dialog=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/end_fairy_dialog.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "end_fairy_dialog"')}}),e.too_weak=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/too_weak.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "too_weak"')}}),e.wind_compass=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/wind_compass.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "wind_compass"')}}),e.use_stairs=new Howl({sprite:{main:[0,1e4]},src:["./res/sound/use_stairs.mp3"],loop:!1,autoplay:!1,html5:!0,preload:!0,onload:function(){console.log('Finished loading sound "use_stairs"')}}),q.la=e},q.oa=function(){var e=Cookies.get("volume");void 0!==e&&($("#volume input").value=e),$("#volume input").on("input",function(e){q.volume(e.target.value),Cookies.set("volume",e.target.value)})},q.volume=function(e){var o=Howler.volume(e);return"object"==typeof o?this:o},q.load=function(){q.ma(),q.na(),q.oa()},$(document).on("keydown.special",function(e){switch(O.P(e.which)){case"f":y(!0);break;case"g":H=!1;break;case"left":case"right":case"up":case"down":case"enter":e.preventDefault()}}),$(document).on("keyup.special",function(e){switch(O.P(e.which)){case"f":y(!1)}});var V=function e(){var e=function(){alert("Called the Messages contructor, what has no sense.")};return e.R=function(o){if(o===!1)return this.R.open=!1,$("#restart-container").hide(),b(),void k();if(this.R.open)return void console.error("Restart confirmation box is already open.");this.R.open=!0,b(),$("#restart-container").show();var t=2;$("#restart-container #option_"+t).addClass("selected"),k(function(o){switch($("#restart-container #option_"+t).removeClass("selected"),O.P(o.which)){case"left":t>1&&t--,$("#restart-container #option_"+t).addClass("selected");break;case"right":t<2&&t++,$("#restart-container #option_"+t).addClass("selected");break;case"esc":e.R(!1);break;case"enter":e.R(!1),1==t&&O.W();break;default:$("#restart-container #option_"+t).addClass("selected")}})},e.R.open=!1,e.v=function(o){if(o===!1)return this.v.open=!1,$("#tutorial").hide(),b(),void k();if(this.v.open)return void console.error("Tutorial message is already open.");this.v.open=!0,b(),$("#tutorial").show();var t=setTimeout(function(){b(),k(),e.v(!1)},this.v.pa);setTimeout(function(){k(function(){clearInterval(t),b(),k(),e.v(!1)})},2500)},e.v.open=!1,e.v.pa=12e3,e.beta=function(o){return o===!1?(this.beta.open=!1,$("#beta").hide(),b(),void k()):this.beta.open?void console.error("Tutorial message is already open."):(this.beta.open=!0,b(),$("#beta").show(),void k(function(o){switch(O.P(o.which)){case"enter":e.beta(!1)}}))},e.beta.open=!1,e}()}();